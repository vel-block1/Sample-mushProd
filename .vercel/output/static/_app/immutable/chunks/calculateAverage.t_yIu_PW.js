import{g as l,r as v,f as A,h as f,T,c as D,a as h,e as w}from"./firebase.CXGZVSlo.js";import{a as H}from"./index.DTi6dYAV.js";const y=new Date;H(y,"yyyy-MM-dd");const n=e=>e.reduce((s,o)=>s+o,0)/e.length;function b(){return new Promise((e,r)=>{const s=l(),o=v(s,"/BETAPEAK/2023-11-20"),u=A(o),t={};f(u,m=>{if(m.exists()){Object.values(m.val()||[]).forEach(a=>{const i=a.Time.split(":")[0];t[i]||(t[i]=[]),t[i].push({Humd:a.Humd,Temp:a.Temp})});const d=Object.keys(t).map(a=>{const i=t[a].map(p=>p.Humd),g=t[a].map(p=>p.Temp);return{Hour:a,AverageHumidity:n(i),AverageTemperature:n(g)}});e(d)}else r(new Error("Data does not exist"))})})}async function F(){try{const e=await b(),r=e.map(a=>a.AverageHumidity),s=e.map(a=>a.AverageTemperature),o=n(r),u=n(s),t=parseFloat(o.toFixed(2)),m=parseFloat(u.toFixed(2)),c=new T(y.getTime()/1e3,0),d=D(h,"user","123456","temp and humid");return await w(d,{"ave temp":m,"ave humidity":t,date:c}),{AverageHumidity:t,AverageTemperature:m,Date:c}}catch(e){throw console.error("Error:",e),e}return new Promise((e,r)=>{})}export{F as a,b as g};
